'use strict';

var animateSVG = function () {

    var init = function init() {
        _setUpListners();
        // то, что должно произойти сразу!
    };

    var _setUpListners = function _setUpListners() {
        // прослушка событий...
        // console.log('привет! я в прослушке событий');

        $('.animateSVG').animate({
            'stroke-dasharray': '1200',
            'stroke-dashoffset': '0'
        }, 5000, 'easeInOutCubic');
    };

    return {
        init: init
    };
}();

$(document).ready(function () {

    // if ( $('selector').length ) {
    // myModule.init();
    // }

    animateSVG.init();
}); // - > ready_end;
'use strict';

var mapModule = function () {

    var init = function init() {
        _setUpListners();
        // то, что должно произойти сразу!
    };

    var _setUpListners = function _setUpListners() {

        var map, route;

        // open\close photo

        var complexMap = function complexMap() {
            // if (typeof map == "undefined") {
            //     // $('#ymap').css('height','400px');

            // }
            // if (typeof map != "undefined") {
            //     if (typeof route != "undefined")

            // }

            // map = new ymaps.Map("ymap", {
            //     center: [55.12739548, 60.33775204],
            //     zoom: 10
            // });

            ymaps.ready(init);

            function init() {
                var map = new ymaps.Map("ymap", {
                    center: [55.12739548, 60.33775204],
                    zoom: 16,
                    controls: []
                });
                map.geoObjects.remove(route);
                if ($('#point-from').val() != '') {
                    ymaps.geocode($('#point-from').val()).then(function (res) {
                        ymaps.route([res.geoObjects.get(0).geometry.getCoordinates(), [55.12739548, 60.33775204]]).then(function (route_res) {
                            route = route_res;
                            map.geoObjects.add(route);
                            console.log(route);
                        });
                    });
                } else {
                    route = new ymaps.Placemark([55.12739548, 60.33775204], { hintContent: 'Комплекс', balloonContent: 'Пансионат на озере Большой Теренкуль' });
                    map.geoObjects.add(route);
                }
                map.setCenter([55.12739548, 60.33775204], 10);
            };
        };

        // complexMap();

        $('#complex').click(function () {
            if ($('#complex').hasClass('active') == false) {
                $('#complex').addClass('active');
                $('#office').removeClass('active');
                $('#officeTab').addClass('inactive');
                $('#complexTab').removeClass('inactive');
                complexMap();
            }
        });

        $('#office').click(function () {
            if ($('#office').hasClass('active') == false) {
                $('#office').addClass('active');
                $('#complex').removeClass('active');
                $('#complexTab').addClass('inactive');
                $('#officeTab').removeClass('inactive');
            }
        });

        $('#show-map').on('click', function () {

            ymaps.ready(init);

            function init() {
                map = new ymaps.Map("ymap", {
                    center: [55.12739548, 60.33775204],
                    zoom: 10
                });
            }

            complexMap();
        });

        $('#show-map').trigger('click');
    };

    return {
        init: init
    };
}();

$(document).ready(function () {

    // if ( $('selector').length ) {
    // myModule.init();
    // }

    mapModule.init();
}); // - > ready_end;

// var mapModule = (function() { 
//     var init = function() { 
//         _setUpListners(); 
//         // то, что должно произойти сразу! 
//     }; 

// var _setUpListners = function() { 
//     // прослушка событий... 
//     ymaps.ready(init); 

//     function init() { 
//         var myMap = new ymaps.Map("ymap", { 
//         center: [55.76, 37.64], 
//         zoom: 16, 
//         controls: [] 
//     }); 


//     myMap.behaviors.disable(['scrollZoom']); 


//     } 
// }; 

// return { 
//     init: init 
// }; 

// })();
'use strict';

var fixedMenu = function () {

    var init = function init() {
        _setUpListners();
        // то, что должно произойти сразу!
    };

    var _setUpListners = function _setUpListners() {
        $(window).scroll(function () {
            var heightOfTop = $('.slider-wrap').height() + 152;

            if ($(this).scrollTop() > heightOfTop && $(this).width() > 767) {
                $('.header').addClass('header-fixed');
                $('.main').css('margin-top', '0px');
            } else if ($(this).scrollTop() < heightOfTop) {
                $('.header').removeClass('header-fixed');
                if ($(window).width() < 1480) {
                    $('.main').css('margin-top', '137px');
                } else {
                    $('.main').css('margin-top', '95px');
                }
            }
        });

        $(window).scroll(function () {
            var heightOfTop = $('.slider-wrap').height() + 152;

            if ($(this).scrollTop() > ($(this).width() > 767)) {
                $('.header').addClass('header-fixed');
                $('.main').css('margin-top', '0px');
            } else if ($(this).scrollTop() < heightOfTop) {
                $('.header').removeClass('header-fixed');
                if ($(window).width() < 1480) {
                    $('.main').css('margin-top', '137px');
                } else {
                    $('.main').css('margin-top', '95px');
                }
            }
        });
    };

    return {
        init: init
    };
}();

$(document).ready(function () {

    // if ( $('selector').length ) {
    // myModule.init();
    // }

    fixedMenu.init();
}); // - > ready_end;
'use strict';

var maskedinputModule = function () {

    var init = function init() {
        _setUpListners();
        // то, что должно произойти сразу!
    };

    var _setUpListners = function _setUpListners() {
        // прослушка событий...

        var time = $('.c-book__input_time'),
            phone = $('.c-book__input_phone');

        $(phone).mask("8 (999) 999-99-99", { autoсlear: false });

        $.mask.definitions['H'] = '[012]';
        $.mask.definitions['M'] = '[012345]';

        $(time).mask('H9:M9');
    };

    return {
        init: init
    };
}();

maskedinputModule.init();
'use strict';

var navigationHeader = function () {

    var init = function init() {
        _setUpListners();
        // то, что должно произойти сразу!
    };

    var _setUpListners = function _setUpListners() {
        // прослушка событий...
        // console.log('привет! я в прослушке событий');

        $('.hamburger').click(function () {
            var leftNavigation = $('.navigation').position().left;
            var leftHeaderLaptop = $('.header-laptop').position().left;

            if ($(window).width() > 768) {
                if (leftNavigation <= -600) {
                    $('.navigation').animate({
                        left: '0'
                    }, 300);
                    $('.overlay').show();
                    $('body').css('overflow', 'hidden');
                } else {
                    $('.navigation').animate({
                        left: '-100%'
                    }, 300);
                    $('.overlay').hide();
                    $('.menu-hover').animate({
                        left: '-100%'
                    }, 300);
                    $('body').css('overflow', 'auto');
                }
            } else {
                if (leftHeaderLaptop <= -600) {
                    $('.header-laptop').animate({
                        left: '0'
                    }, 300);
                    $('.overlay').show();
                    $('body').css('overflow', 'hidden');
                } else {
                    $('.header-laptop').animate({
                        left: '-100%'
                    }, 300);
                    $('.overlay').hide();
                    $('.menu-hover').animate({
                        left: '-100%'
                    }, 300);
                    $('body').css('overflow', 'auto');
                }
            }
        });

        $('.js-navigation__items').mouseenter(function () {

            // $('.menu-hover').hide();
            $('.menu-hover').stop(true, true).animate({
                left: '-100%'
            }, 900, 'easeInOutQuint');

            /*$(this).find('.navigation__item').mouseenter(function () {
                var block = $(this).data("block");
                  $('.menu-hover__inner[data-block="' + block + '"]')
                .stop(true, true)
                .show()
                .siblings()
                .hide();
            })*/

            if ($(window).width() > 768) {
                // $('.menu-hover').show('fast');
                $('.menu-hover').stop(true, true).animate({
                    left: '100%'
                }, 900, 'easeInOutQuint');

                $(this).find('.navigation__item').mouseenter(function () {
                    var block = $(this).data("block");

                    $('.menu-hover__inner[data-block="' + block + '"]').stop(true, true)
                    // .show()
                    .fadeIn(500).siblings().hide();
                });
            }
        });

        $("body").click(function (e) {
            var leftHeaderLaptop = $('.header-laptop').position().left;

            if ($(window).width() > 768) {
                if ($(e.target).closest(".navigation, .hamburger, .header-laptop").length == 0) {
                    $(".navigation").animate({
                        left: '-100%'
                    }, 300);
                    $('.burger-menu').removeClass("burger-menu--opened");
                    $('.burger-menu').addClass("burger-menu--closed");
                    $('.overlay').hide();
                    $('.menu-hover').stop(true, true).animate({
                        left: '-100%'
                    }, 300);
                    $('body').css('overflow', 'auto');
                }
            } else {
                if ($(e.target).closest(".navigation, .hamburger, .header-laptop").length == 0) {
                    $(".header-laptop").animate({
                        left: '-1000px'
                    }, 300);
                    $(".navigation").animate({
                        left: '-100%'
                    }, 300);
                    $('.burger-menu').removeClass("burger-menu--opened");
                    $('.burger-menu').addClass("burger-menu--closed");
                    $('.menu-hover').stop(true, true).animate({
                        left: '-100%'
                    }, 300);
                    $('body').css('overflow', 'auto');

                    if (leftHeaderLaptop > -600) {
                        $('.overlay').hide();
                    }
                }
            }
        });

        $('.hamburger').on('click', function () {
            $(this).find('.burger-menu').toggleClass("burger-menu--opened");
            $(this).find('.burger-menu').toggleClass("burger-menu--closed");
        });
    };

    return {
        init: init
    };
}();

$(document).ready(function () {

    // if ( $('selector').length ) {
    // myModule.init();
    // }

    navigationHeader.init();
}); // - > ready_end;