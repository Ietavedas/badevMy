'use strict';

var bpopupModule = function () {

    var init = function init() {
        _setUpListners();
        // то, что должно произойти сразу!
    };

    var _setUpListners = function _setUpListners() {
        // прослушка событий...
        // console.log('привет! я в прослушке событий');

        $('.search-apartments__button-book').on('click', _showModal);

        $('.sa__button-book-reserved').on('click', function (e) {
            e.preventDefault();
        });
    };

    var _showModal = function _showModal(e) {
        e.preventDefault();

        $('.sf-popup-form-popup').bPopup({
            speed: 650,
            transition: 'slideDown'
        });
    };

    return {
        init: init
    };
}();

$(document).ready(function () {

    // if ( $('selector').length ) {
    // myModule.init();
    // }

    bpopupModule.init();
}); // - > ready_end;
'use strict';

var myModule = function () {
    var init = function init() {
        _setUpListners();
        // то, что должно произойти сразу!
    };

    var _setUpListners = function _setUpListners() {
        // прослушка событий...
        // console.log('привет! я в прослушке событий');

        $('.search__input-date_in').datepicker({
            minDate: 0 // запрет выбора прошедшей даты
        });

        $('.search__input-date_out').datepicker({
            minDate: 0
        });

        $('.sf-popup__input-date_in').datepicker({
            minDate: 0
        });

        $('.sf-popup__input-date_out').datepicker({
            minDate: 0
        });
    };

    return {
        init: init
    };
}();

myModule.init();
'use strict';

var fixedMenu = function () {

    var init = function init() {
        _setUpListners();
        // то, что должно произойти сразу!
    };

    var _setUpListners = function _setUpListners() {
        $(window).scroll(function () {
            var heightOfTop = $('.slider-wrap').height() + 152;

            if ($(this).scrollTop() > heightOfTop && $(this).width() > 767) {
                $('.header').addClass('header-fixed');
                $('.main').css('margin-top', '0px');
            } else if ($(this).scrollTop() < heightOfTop) {
                $('.header').removeClass('header-fixed');
                if ($(window).width() < 1480) {
                    $('.main').css('margin-top', '137px');
                } else {
                    $('.main').css('margin-top', '95px');
                }
            }
        });

        $(window).scroll(function () {
            var heightOfTop = $('.slider-wrap').height() + 152;

            if ($(this).scrollTop() > ($(this).width() > 767)) {
                $('.header').addClass('header-fixed');
                $('.main').css('margin-top', '0px');
            } else if ($(this).scrollTop() < heightOfTop) {
                $('.header').removeClass('header-fixed');
                if ($(window).width() < 1480) {
                    $('.main').css('margin-top', '137px');
                } else {
                    $('.main').css('margin-top', '95px');
                }
            }
        });
    };

    return {
        init: init
    };
}();

$(document).ready(function () {

    // if ( $('selector').length ) {
    // myModule.init();
    // }

    fixedMenu.init();
}); // - > ready_end;
"use strict";

var formValidationModule = function () {

    var init = function init() {
        _maskedInput();
    };

    var _maskedInput = function _maskedInput() {
        // прослушка событий...
        // console.log('привет! я в прослушке событий');

        $('.sf-popup__input-tel').mask("+7 ( 999 ) 999-99-99", { autoсlear: false });
    };

    return {
        init: init
    };
}();

$(document).ready(function () {

    formValidationModule.init();
}); // - > ready_end;
'use strict';

var lightgalleryModule = function () {

    var init = function init() {
        _setUpListners();
        // то, что должно произойти сразу!
    };

    var _setUpListners = function _setUpListners() {
        // прослушка событий...
        // console.log('привет! я в прослушке событий');

        $('.sa__list').lightGallery({
            mode: 'lg-zoom-out-big',
            speed: 500,
            thumbnail: true,
            showThumbByDefault: true,
            // thumbWidth : 100, // Данная настройка определяет ширину миниатюр. По умолчанию 100px
            // thumbMargin : 50 // Отступ между изображениями
            loop: true, // цикличное отображение нашей галереи
            escKey: true, // мы можем вернуться к сайту, нажав клавишу esc
            counter: true, // отображает счетчик изображения галереи
            // auto : true,
            // animateThumb : false // Выбор слада по миниатюрам. Должна быть включена настройка  thumbWidth
            download: false,
            selector: 'li'
        });
    };

    return {
        init: init
    };
}();

$(document).ready(function () {

    // if ( $('selector').length ) {
    // myModule.init();
    // }

    lightgalleryModule.init();
}); // - > ready_end;
'use strict';

var matchHeightModule = function () {

    var init = function init() {
        _setUpListners();
        // то, что должно произойти сразу!
    };

    var _setUpListners = function _setUpListners() {
        // прослушка событий...
        // console.log('привет! я в прослушке событий');

        $('.search__mathHeight').matchHeight();
    };

    return {
        init: init
    };
}();

$(document).ready(function () {

    // if ( $('selector').length ) {
    // myModule.init();
    // }

    matchHeightModule.init();
}); // - > ready_end;
'use strict';

jQuery(document).ready(function ($) {
    //open/close lateral filter
    $('.cd-filter-trigger').on('click', function () {
        triggerFilter(true);
    });
    $('.cd-filter .cd-close').on('click', function () {
        triggerFilter(false);
    });

    function triggerFilter($bool) {
        var elementsToTrigger = $([$('.cd-filter-trigger'), $('.cd-filter'), $('.cd-tab-filter'), $('.cd-gallery')]);
        elementsToTrigger.each(function () {
            $(this).toggleClass('filter-is-visible', $bool);
        });
    }

    /************************************
     MitItUp filter settings
     More details:
     https://mixitup.kunkalabs.com/
     or:
     http://codepen.io/patrickkunka/
     *************************************/

    buttonFilter.init();
    $('.search-apartments__list').mixItUp({
        controls: {
            enable: false
        },
        callbacks: {
            onMixStart: function onMixStart() {
                $('.cd-fail-message').fadeOut(200);
            },
            onMixFail: function onMixFail() {
                $('.cd-fail-message').fadeIn(200);
            }
        }
    });
});

/*****************************************************
 MixItUp - Define a single object literal
 to contain all filter custom functionality
 *****************************************************/
var buttonFilter = {
    // Declare any variables we will need as properties of the object
    $filters: null,
    groups: [],
    outputArray: [],
    outputString: '',

    // The "init" method will run on document ready and cache any jQuery objects we will need.
    init: function init() {
        var self = this; // As a best practice, in each method we will asign "this" to the variable "self" so that it remains scope-agnostic. We will use it to refer to the parent "buttonFilter" object so that we can share methods and properties between all parts of the object.

        self.$filters = $('.search-form');
        self.$container = $('.search-apartments__list');

        self.$filters.find('.cd-filters').each(function () {
            var $this = $(this);

            self.groups.push({
                $inputs: $this.find('.filter'),
                active: '',
                tracker: false
            });
        });

        self.bindHandlers();
    },

    // The "bindHandlers" method will listen for whenever a button is clicked.
    bindHandlers: function bindHandlers() {
        var self = this;

        self.$filters.on('click', 'a', function (e) {
            self.parseFilters();
        });
        self.$filters.on('change', function () {
            self.parseFilters();
        });
    },

    parseFilters: function parseFilters() {
        var self = this;

        // loop through each filter group and grap the active filter from each one.
        for (var i = 0, group; group = self.groups[i]; i++) {
            group.active = [];
            group.$inputs.each(function () {
                var $this = $(this);
                if ($this.is('input[type="radio"]') || $this.is('input[type="checkbox"]')) {
                    if ($this.is(':checked')) {
                        group.active.push($this.attr('data-filter'));
                    }
                } else if ($this.is('select')) {
                    group.active.push($this.val());
                } else if ($this.find('.selected').length > 0) {
                    group.active.push($this.attr('data-filter'));
                }
            });
        }
        self.concatenate();
    },

    concatenate: function concatenate() {
        var self = this;

        self.outputString = ''; // Reset output string

        for (var i = 0, group; group = self.groups[i]; i++) {
            self.outputString += group.active;
        }

        // If the output string is empty, show all rather than none:
        !self.outputString.length && (self.outputString = 'all');

        // Send the output string to MixItUp via the 'filter' method:
        if (self.$container.mixItUp('isLoaded')) {
            self.$container.mixItUp('filter', self.outputString);
        }
    }
};
'use strict';

var navigationHeader = function () {

    var init = function init() {
        _setUpListners();
        // то, что должно произойти сразу!
    };

    var _setUpListners = function _setUpListners() {
        // прослушка событий...
        // console.log('привет! я в прослушке событий');

        $('.hamburger').click(function () {
            var leftNavigation = $('.navigation').position().left;
            var leftHeaderLaptop = $('.header-laptop').position().left;

            if ($(window).width() > 768) {
                if (leftNavigation <= -600) {
                    $('.navigation').animate({
                        left: '0'
                    }, 300);
                    $('.overlay').show();
                    $('body').css('overflow', 'hidden');
                } else {
                    $('.navigation').animate({
                        left: '-100%'
                    }, 300);
                    $('.overlay').hide();
                    $('.menu-hover').animate({
                        left: '-100%'
                    }, 300);
                    $('body').css('overflow', 'auto');
                }
            } else {
                if (leftHeaderLaptop <= -600) {
                    $('.header-laptop').animate({
                        left: '0'
                    }, 300);
                    $('.overlay').show();
                    $('body').css('overflow', 'hidden');
                } else {
                    $('.header-laptop').animate({
                        left: '-100%'
                    }, 300);
                    $('.overlay').hide();
                    $('.menu-hover').animate({
                        left: '-100%'
                    }, 300);
                    $('body').css('overflow', 'auto');
                }
            }
        });

        $('.js-navigation__items').mouseenter(function () {

            // $('.menu-hover').hide();
            $('.menu-hover').stop(true, true).animate({
                left: '-100%'
            }, 900, 'easeInOutQuint');

            /*$(this).find('.navigation__item').mouseenter(function () {
                var block = $(this).data("block");
                  $('.menu-hover__inner[data-block="' + block + '"]')
                .stop(true, true)
                .show()
                .siblings()
                .hide();
            })*/

            if ($(window).width() > 768) {
                // $('.menu-hover').show('fast');
                $('.menu-hover').stop(true, true).animate({
                    left: '100%'
                }, 900, 'easeInOutQuint');

                $(this).find('.navigation__item').mouseenter(function () {
                    var block = $(this).data("block");

                    $('.menu-hover__inner[data-block="' + block + '"]').stop(true, true)
                    // .show()
                    .fadeIn(500).siblings().hide();
                });
            }
        });

        $("body").click(function (e) {
            var leftHeaderLaptop = $('.header-laptop').position().left;

            if ($(window).width() > 768) {
                if ($(e.target).closest(".navigation, .hamburger, .header-laptop").length == 0) {
                    $(".navigation").animate({
                        left: '-100%'
                    }, 300);
                    $('.burger-menu').removeClass("burger-menu--opened");
                    $('.burger-menu').addClass("burger-menu--closed");
                    $('.overlay').hide();
                    $('.menu-hover').stop(true, true).animate({
                        left: '-100%'
                    }, 300);
                    $('body').css('overflow', 'auto');
                }
            } else {
                if ($(e.target).closest(".navigation, .hamburger, .header-laptop").length == 0) {
                    $(".header-laptop").animate({
                        left: '-1000px'
                    }, 300);
                    $(".navigation").animate({
                        left: '-100%'
                    }, 300);
                    $('.burger-menu').removeClass("burger-menu--opened");
                    $('.burger-menu').addClass("burger-menu--closed");
                    $('.menu-hover').stop(true, true).animate({
                        left: '-100%'
                    }, 300);
                    $('body').css('overflow', 'auto');

                    if (leftHeaderLaptop > -600) {
                        $('.overlay').hide();
                    }
                }
            }
        });

        $('.hamburger').on('click', function () {
            $(this).find('.burger-menu').toggleClass("burger-menu--opened");
            $(this).find('.burger-menu').toggleClass("burger-menu--closed");
        });
    };

    return {
        init: init
    };
}();

$(document).ready(function () {

    // if ( $('selector').length ) {
    // myModule.init();
    // }

    navigationHeader.init();
}); // - > ready_end;
'use strict';

var searchValidationModule = function () {

                var init = function init() {
                                searchInputGrownups();
                                searchInputChildren();
                                sfPopupInputGrownups();
                };

                // Валидация input для popup (старше 12)

                var sfPopupInputGrownups = function sfPopupInputGrownups() {
                                // прослушка событий...
                                // console.log('привет! я в прослушке событий');

                                $('.sf-popup__form').on('submit', function () {

                                                var $this = $(this),
                                                    container = $this.closest('.sf-popup__form'),
                                                    sfInputGrownups = container.find('.sf-popup__input_grownups'),
                                                    error_sfInputGrownups = 0,
                                                    error_sfInputGrownupsText = "",
                                                    pattern_sfInputGrownups = /^\d+$/; // ввод только цифр

                                                if (sfInputGrownups.val().search(pattern_sfInputGrownups) == -1) {

                                                                error_sfInputGrownups = 1;

                                                                console.log('true');
                                                } else {

                                                                error_sfInputGrownups = 0;

                                                                console.log('false');
                                                }

                                                return false;
                                });

                                var searchInputGrownups = $('.sf-popup__input_grownups'),
                                    pattern_searchInputGrownups = /^\d+$/,
                                    error_searchInputGrownups = 0,
                                    error_searchInputGrownupsText = "";

                                // console.log(searchInputGrownups.val());

                                searchInputGrownups.on('change', function () {

                                                // console.log($.trim(searchInputGrownups.val()));

                                                if (searchInputGrownups.val().search(pattern_searchInputGrownups) == -1) {

                                                                error_searchInputGrownups = 1;
                                                } else {

                                                                error_searchInputGrownups = 0;
                                                }

                                                if (error_searchInputGrownups == 0) {

                                                                // return true;

                                                                error_searchInputGrownupsText = '<svg viewBox="0 0 9 9"><g><polyline class="check__cls-1" points="1 6 3 8 8 1"/></g></svg>';

                                                                $('.search__input_grownups-messenger-check').hide().fadeIn(500).html(error_searchInputGrownupsText);
                                                                $('.search__input_grownups-messenger-error').hide().fadeIn(500).html('');

                                                                $('.search__grownups-count-messenger-text').hide().fadeIn(500).html('');
                                                } else {

                                                                error_searchInputGrownupsText = '<svg viewBox="0 0 2 11.23"><g><line class="error__cls-1" x1="1" y1="1" x2="1" y2="6.97"/><line class="error__cls-1" x1="1" y1="10.23" x2="1" y2="9.97"/></g></svg>';

                                                                $('.search__input_grownups-messenger-error').hide().fadeIn(500).html(error_searchInputGrownupsText);
                                                                $('.search__input_grownups-messenger-check').hide().fadeIn(500).html('');

                                                                $('.search__grownups-count-messenger-text').hide().fadeIn(500).html('<div>Введите корректное значение</div>');
                                                }
                                });
                };

                var searchInputChildren = function searchInputChildren() {
                                // прослушка событий...
                                // console.log('привет! я в прослушке событий');

                                var searchInputChildren = $('.search__input-children'),
                                    pattern_searchInputChildren = /^\d+$/,
                                    error_searchInputChildren = 0,
                                    error_searchInputChildrenText = "";

                                searchInputChildren.on('change', function () {

                                                if (searchInputChildren.val().search(pattern_searchInputChildren) == -1) {

                                                                error_searchInputChildren = 1;
                                                } else {

                                                                error_searchInputChildren = 0;
                                                }

                                                if (error_searchInputChildren == 0) {

                                                                // return true;

                                                                error_searchInputChildrenText = '<svg viewBox="0 0 9 9"><g><polyline class="check__cls-1" points="1 6 3 8 8 1"/></g></svg>';

                                                                $('.search__input_children-messenger-check').hide().fadeIn(500).html(error_searchInputChildrenText);
                                                                $('.search__input_children-messenger-error').hide().fadeIn(500).html('');

                                                                $('.search__children-count-messenger-text').hide().fadeIn(500).html('');
                                                } else {

                                                                error_searchInputChildrenText = '<svg viewBox="0 0 2 11.23"><g><line class="error__cls-1" x1="1" y1="1" x2="1" y2="6.97"/><line class="error__cls-1" x1="1" y1="10.23" x2="1" y2="9.97"/></g></svg>';

                                                                $('.search__input_children-messenger-error').hide().fadeIn(500).html(error_searchInputChildrenText);
                                                                $('.search__input_children-messenger-check').hide().fadeIn(500).html('');

                                                                $('.search__children-count-messenger-text').hide().fadeIn(500).html('<div>Введите корректное значение</div>');
                                                }
                                });
                };

                var searchInputGrownups = function searchInputGrownups() {
                                // прослушка событий...
                                // console.log('привет! я в прослушке событий');

                                var searchInputGrownups = $('.search__input_grownups'),
                                    pattern_searchInputGrownups = /^\d+$/,
                                    error_searchInputGrownups = 0,
                                    error_searchInputGrownupsText = "";

                                // console.log(searchInputGrownups.val());

                                searchInputGrownups.on('change', function () {

                                                // console.log($.trim(searchInputGrownups.val()));

                                                if (searchInputGrownups.val().search(pattern_searchInputGrownups) == -1) {

                                                                error_searchInputGrownups = 1;

                                                                // console.log(error_searchInputGrownups);
                                                } else {

                                                                error_searchInputGrownups = 0;

                                                                // console.log(error_searchInputGrownups);
                                                }

                                                if (error_searchInputGrownups == 0) {

                                                                // return true;

                                                                error_searchInputGrownupsText = '<svg viewBox="0 0 9 9"><g><polyline class="check__cls-1" points="1 6 3 8 8 1"/></g></svg>';

                                                                $('.search__input_grownups-messenger-check').hide().fadeIn(500).html(error_searchInputGrownupsText);
                                                                $('.search__input_grownups-messenger-error').hide().fadeIn(500).html('');

                                                                $('.search__grownups-count-messenger-text').hide().fadeIn(500).html('');
                                                } else {

                                                                error_searchInputGrownupsText = '<svg viewBox="0 0 2 11.23"><g><line class="error__cls-1" x1="1" y1="1" x2="1" y2="6.97"/><line class="error__cls-1" x1="1" y1="10.23" x2="1" y2="9.97"/></g></svg>';

                                                                $('.search__input_grownups-messenger-error').hide().fadeIn(500).html(error_searchInputGrownupsText);
                                                                $('.search__input_grownups-messenger-check').hide().fadeIn(500).html('');

                                                                $('.search__grownups-count-messenger-text').hide().fadeIn(500).html('<div>Введите корректное значение</div>');
                                                }
                                });
                };

                return {
                                init: init
                };
}();

$(document).ready(function () {

                // if ( $('selector').length ) {
                // myModule.init();
                // }

                // searchValidationModule.init();

}); // - > ready_end;
'use strict';

var spinnerModule = function () {

    var init = function init() {
        _setUpListners();
        // то, что должно произойти сразу!
    };

    var _setUpListners = function _setUpListners() {
        // прослушка событий...
        // console.log('привет! я в прослушке событий');

        $('.sf-popup__spinner').spinner({
            icons: {
                up: 'up',
                down: 'down'
            },
            min: 0,
            max: 8
        });
    };

    return {
        init: init
    };
}();

$(document).ready(function () {

    // if ( $('selector').length ) {
    // myModule.init();
    // }

    // spinnerModule.init();

}); // - > ready_end;